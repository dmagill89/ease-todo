<section class="flex flex-col items-center justify-center mx-auto h-full w-full">

    <header class="w-3/4 mb-4">
        <h1 class="text-3xl">
            Todo
        </h1>
    </header>

    <div class="flex justify-between w-3/4 mb-4">
        <div>
            <input class="input" placeholder="Search..." (input)="queryChange($event)">
        </div>

        <div>
            <button class="btn-primary" type="button" (click)="addTodoOpen = true">
                Add Todo
            </button>
        </div>
    </div>

    <div
        class="basis-4/5 p-6 overflow-hidden bg-white border border-gray-200 rounded-lg shadow w-3/4 dark:bg-gray-800 dark:border-gray-700">
        <table class="w-full h-full flex flex-col">
            <thead class="text-left text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                <tr>
                    <th scope="col" class="px-6 py-3 w-1/6">
                        Completed
                    </th>

                    <th scope="col" class="px-6 py-3 w-3/6">
                        Title
                    </th>

                    <th scope="col" class="px-6 py-3 w-2/6">
                        Due Date
                    </th>

                    <th scope="col" class="px-6 py-3 w-2/6">

                    </th>
                </tr>
            </thead>
            <tbody class="text-left overflow-y-auto">
                @for (todo of searchReults(); track todo.id) {
                    <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50">
                        <th scope="row" class="px-6 py-3 w-1/6">
                            <input
                            class="text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                            type="checkbox" 
                            (change)="markComplete(todo)" 
                            [(ngModel)]="todo.completed">
                        </th>
                    
                        <td scope="row" class="px-6 py-3 w-3/6">
                            {{ todo.title }}
                        </td>
                    
                        <td class="px-6 py-3 w-2/6">
                            {{ todo.dueDate }}
                        </td>
                    
                        <td class="px-6 py-3 w-2/6">
                            <button class="btn-danger" (click)="deleteTodo(todo.id)">
                                Delete
                            </button>
                        </td>

                    </tr>
                }
            </tbody>
        </table>
    </div>

</section>

<app-create-todo [(open)]="addTodoOpen"></app-create-todo>